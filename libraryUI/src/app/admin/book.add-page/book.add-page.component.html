<form [formGroup]="form" (ngSubmit)="submit()" class="bookAdd">
  <div class="textHeader">
    <h1>Add new book</h1>
  </div>
  <div
    class="form-control"
    [ngClass]="{invalid: form.get('bookName').touched&&form.get('bookName').invalid}">
    <label for="bookName" class="formText"> Book name </label>
    <input id="bookName" type="text" maxlength="50" formControlName="bookName">
    <div
      class="validation"
      *ngIf="form.get('bookName').touched&&form.get('bookName').invalid"
    >
      <small *ngIf="form.get('bookName').errors.required">
        Add book name:
      </small>
    </div>
  </div>


  <div
    class="form-control"
    [ngClass]="{invalid: form.get('authorName').touched&&form.get('authorName').invalid}">
    <label for="authorName" class="formText">Author name </label>
    <input id="authorName" type="text" maxlength="50" formControlName="authorName">
    <div
      class="validation"
      *ngIf="form.get('authorName').touched&&form.get('authorName').invalid"
    >
      <small *ngIf="form.get('authorName').errors.required">
        Add author name:
      </small>
    </div>
  </div>

  <div
    class="form-control"
    [ngClass]="{invalid: form.get('yearOfPublishing').touched&&form.get('yearOfPublishing').invalid}"
  >
    <label for="yearOfPublishing" class="formText"> Year of publishing </label>
    <input id="yearOfPublishing" type="text" pattern="\d{4,}" maxlength="4" formControlName="yearOfPublishing">
    <div
      class="validation"
      *ngIf="form.get('yearOfPublishing').touched&&form.get('yearOfPublishing').invalid"
    >
      <small *ngIf="form.get('yearOfPublishing').errors.required">
        Add year of publishing:
      </small>
      <small *ngIf="form.get('yearOfPublishing').errors.pattern">
        Only numbers can be used
      </small>
    </div>
  </div>

  <div
    class="form-control"
    [ngClass]="{invalid: form.get('publisherName').touched&&form.get('publisherName').invalid}"
  >
    <label for="publisherName" class="formText">Publisher name </label>
    <input id="publisherName" type="text" maxlength="50" formControlName="publisherName">
    <div
      class="validation"
      *ngIf="form.get('publisherName').touched&&form.get('publisherName').invalid"
    >
      <small *ngIf="form.get('publisherName').errors.required">
        Add publisher name:
      </small>
    </div>
  </div>


  <label for="uploadBtn" class="formText">Upload book</label>
  <div class="upload">
    <input
      style="display: none"
      type="file"
      (change)="onFileSelected($event)"
      accept="text/plain"

      #fileInput>

    <div class="uploadBtn" id="uploadBtn">
      <button class="btn btn-white" type="button" (click)="fileInput.click()">Select</button>
    </div>

    <label class="formText">{{fileName}}</label>
    <div
      class="validation"
      *ngIf="(fileName==''|| (fileName!=''&&fileExtension!='.txt'))"
    >
      <small *ngIf="fileName==''">
        Select file.
      </small>

      <small *ngIf="fileExtension!=null&&fileExtension!='.txt'">
        File resolution not supported, select * .txt file.
      </small>

    </div>
  </div>

  <button
    type="submit"
    class="btn btn-block btn-primary"
    [disabled]="form.invalid||submitted"
  >Save
  </button>

</form>



